---
title: kube-apiserver
date: 2019-04-17 04:11:56
tags: ["tech","技术","k8s"]
author: wangxiuwen
categories: ["技术"]
layout: post
---

```
+----------------------------------------------------------+          
| Master                                                   |          
|              +-------------------------+                 |          
|     +------->|        API Server       |<--------+       |          
|     |        |                         |         |       |          
|     v        +-------------------------+         v       |          
|   +----------------+     ^      +--------------------+   |          
|   |                |     |      |                    |   |          
|   |   Scheduler    |     |      | Controller Manager |   |          
|   |                |     |      |                    |   |          
|   +----------------+     v      +--------------------+   |          
| +------------------------------------------------------+ |          
| |                                                      | |          
| |                Cluster state store                   | |          
| |                                                      | |          
| +------------------------------------------------------+ |          
+----------------------------------------------------------+
```


当然，这里说基本展示是因为我们可以直接通过 kubectl proxy 的方式直接通过 HTTP 请求访问 kube-apiserver 而无需任何认证过程。


kube-apiserver 两个参数:

    --insecure-port 默认 8080, 通过该端口访问时无需认证。为了避免安全问题，也可将此参数设置为 0 以禁用该功能。该端口会绑定在 --insecure-bind-address 参数所设置的地址上，默认为 127.0.0.1, 这两个都已过期。
    --secure-port 的参数，默认 6443。